{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nimport G6 from '@antv/g6';\nimport { getCssPadding, getStyle, createFetchLoading, closeFetchLoading, getMarkerPosition, getGlobalInstance, getChildrenData, pushAsyncEvent } from '../../utils';\nvar Util = G6.Util;\n// file tree\nexport var registerFileTreeGeometries = function () {\n  var defaultLineWidth = 2;\n  var defaultTextStyle = {\n    fill: 'rgba(0,0,0,.65)',\n    textAlign: 'middle',\n    fontSize: 14,\n    fontFamily: 'PingFangSC-Regular',\n    cursor: 'pointer',\n    textBaseline: 'middle'\n  };\n  var defaultStroke = '#40a9ff';\n  var markerSize = 12;\n  var defaultMarkerCfg = {\n    width: markerSize,\n    height: markerSize,\n    radius: markerSize / 2,\n    stroke: '#999',\n    fill: '#fff',\n    cursor: 'pointer',\n    r: markerSize / 2,\n    lineWidth: 1\n  };\n  G6.registerNode('file-tree-node', {\n    options: {\n      style: {\n        fill: '#e8f7ff'\n      },\n      stateStyles: {\n        hover: {\n          fillOpacity: 0.6\n        },\n        selected: {}\n      }\n    },\n    addLabel: function (group, label, x, y) {\n      return group.addShape('text', {\n        attrs: {\n          text: label,\n          x: x * 2,\n          y: y,\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontFamily: 'PingFangSC-Regular'\n        },\n        cursor: 'pointer',\n        name: 'name-text-shape'\n      });\n    },\n    addCollapse: function (group, props) {\n      var collapsed = props.collapsed,\n        markerCfg = props.markerCfg,\n        model = props.model,\n        size = props.size;\n      var style = markerCfg.style;\n      var _a = [0, size[1]],\n        x = _a[0],\n        y = _a[1];\n      // 子类数量 icon，绘制圆点在节点正下方\n      var markerStyle = getStyle(style, model, group, 'collapse');\n      var config = __assign(__assign({}, defaultMarkerCfg), markerStyle);\n      var childCountGroup = group.addGroup({\n        name: 'collapse-group'\n      });\n      var rectX = x - config.width / 2;\n      var rectY = y - config.height / 2;\n      childCountGroup.addShape('rect', {\n        attrs: __assign({\n          lineWidth: defaultLineWidth,\n          x: rectX,\n          y: rectY\n        }, config),\n        name: 'collapse-icon-circle'\n      });\n      childCountGroup.addShape('path', {\n        attrs: __assign({\n          path: collapsed ? [['M', rectX + config.width / 4, y - config.height / 4], ['L', rectX + config.width * 3 / 4, y], ['L', rectX + config.width / 4, y + config.height / 4]] : [['M', rectX + config.width / 4, y - config.height / 4], ['L', rectX + config.width / 2, y + config.height / 4], ['L', rectX + config.width * 3 / 4, y - config.height / 4]]\n        }, config),\n        name: 'collapse-icon-arrow',\n        capture: false\n      });\n      if (collapsed) {\n        childCountGroup.show();\n      } else {\n        childCountGroup.hide();\n      }\n    },\n    addMarker: function (group, props) {\n      var markerCfg = props.markerCfg,\n        model = props.model,\n        size = props.size,\n        _a = props.startX,\n        startX = _a === void 0 ? 0 : _a,\n        _b = props.startY,\n        startY = _b === void 0 ? 0 : _b;\n      var style = markerCfg.style,\n        _c = markerCfg.position,\n        position = _c === void 0 ? 'right' : _c,\n        show = markerCfg.show;\n      if (!show) return;\n      // 子类数量 icon，绘制圆点在节点正下方\n      var markerStyle = getStyle(style, model, group);\n      var config = __assign(__assign({}, defaultMarkerCfg), markerStyle);\n      var _d = getMarkerPosition(position, size),\n        x = _d.x,\n        y = _d.y;\n      // 增加子节点 icon\n      var markerIcon = group.addShape('marker', {\n        attrs: __assign({\n          x: x + startX,\n          y: y + startY,\n          symbol: G6.Marker.expand\n        }, config),\n        name: 'icon-add-child'\n      });\n      markerIcon.hide();\n      return markerIcon;\n    },\n    addHoverBack: function (group, props) {\n      var x = props.x,\n        y = props.y,\n        width = props.width,\n        height = props.height,\n        style = props.style;\n      group.addShape('rect', {\n        attrs: __assign({\n          x: x,\n          y: y,\n          width: width,\n          height: height,\n          radius: 4,\n          cursor: 'pointer'\n        }, style),\n        // capture: false,\n        name: 'main-shape',\n        draggable: true\n      });\n    },\n    addName: function (group, props) {\n      var label = props.label,\n        _a = props.x,\n        x = _a === void 0 ? 0 : _a,\n        y = props.y,\n        style = props.style;\n      return group.addShape('text', {\n        attrs: __assign(__assign({\n          text: label,\n          x: x,\n          y: y\n        }, defaultTextStyle), style),\n        name: 'text-shape',\n        draggable: true\n      });\n    },\n    addBottomLine: function (group, props) {\n      var x = props.x,\n        y = props.y,\n        width = props.width,\n        stroke = props.stroke,\n        lineWidth = props.lineWidth;\n      return group.addShape('path', {\n        attrs: {\n          path: [['M', x - 1, y], ['L', width, y]],\n          stroke: stroke,\n          lineWidth: lineWidth\n        },\n        name: 'node-path-shape'\n      });\n    },\n    draw: function (model, group) {\n      var collapsed = model.collapsed,\n        depth = model.depth,\n        value = model.value,\n        markerCfg = model.markerCfg,\n        _a = model.children,\n        children = _a === void 0 ? [] : _a;\n      var nodeCfg = model.nodeCfg;\n      var style = nodeCfg.style,\n        label = nodeCfg.label,\n        _b = nodeCfg.padding,\n        padding = _b === void 0 ? 0 : _b,\n        customContent = nodeCfg.customContent,\n        lineStyle = nodeCfg.lineStyle;\n      var bottomLineStyle = getStyle(lineStyle, model, group);\n      var fileName = value.text;\n      var size = (nodeCfg === null || nodeCfg === void 0 ? void 0 : nodeCfg.size) || [];\n      if (typeof size === 'number') size = [size, size];\n      var cardPadding = getCssPadding(padding);\n      // 是否为根节点\n      var rootNode = depth === 0;\n      // 子节点数量\n      var childCount = children.length || 0;\n      var height = size[1] || 28;\n      var x = 0;\n      var y = 0;\n      var text; // 名称文本\n      if (customContent) {\n        text = customContent(value, group, {\n          startX: x + cardPadding[3],\n          startY: height / 2,\n          width: size[0]\n        });\n      } else {\n        text = this.addName(group, {\n          label: fileName,\n          x: x + cardPadding[3],\n          y: height / 2,\n          style: getStyle(label.style, model, group)\n        });\n      }\n      var textWidth = group.getBBox().width;\n      var width = Math.max(size[0], textWidth + cardPadding[1] + cardPadding[3]);\n      if (!size.length) size = [width, height];\n      var cardStyle = getStyle(style, model, group);\n      var keyShapeAttrs = __assign({\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        radius: 12\n      }, cardStyle);\n      var keyShape = group.addShape('rect', {\n        attrs: keyShapeAttrs,\n        name: 'root-rect-shape'\n      });\n      // 底部横线\n      !rootNode && this.addBottomLine(group, __assign({\n        stroke: defaultStroke,\n        lineWidth: defaultLineWidth,\n        x: x,\n        width: width,\n        y: y + height\n      }, bottomLineStyle));\n      var callbackMarkerCfg = markerCfg;\n      var graph = getGlobalInstance(model._graphId);\n      if (typeof markerCfg === 'function') {\n        callbackMarkerCfg = markerCfg(__assign(__assign({}, model), {\n          children: getChildrenData(graph === null || graph === void 0 ? void 0 : graph.get('eventData').getData(), model.g_currentPath)\n        }), group);\n      }\n      if (childCount && !rootNode) this.addCollapse(group, {\n        collapsed: collapsed,\n        markerCfg: callbackMarkerCfg,\n        model: model,\n        size: [width, height]\n      });\n      var markerIcon = this.addMarker(group, {\n        collapsed: collapsed,\n        markerCfg: callbackMarkerCfg,\n        model: model,\n        size: [width, height],\n        startX: text.getBBox().x - cardPadding[3],\n        startY: keyShape.getBBox().y\n      });\n      var bbox = group.getBBox();\n      var minX = bbox.minX,\n        minY = bbox.minY,\n        maxX = bbox.maxX,\n        maxY = bbox.maxY;\n      var backContainer = group.addShape('path', {\n        attrs: {\n          path: childCount ? [['M', minX, minY], ['L', maxX, minY], ['L', maxX, maxY], ['L', minX + 20, maxY], ['L', minX + 20, maxY + 20], ['L', minX, maxY + 20], ['Z']] : [['M', minX, minY], ['L', maxX, minY], ['L', maxX, maxY], ['L', minX, maxY], ['Z']],\n          fill: '#fff',\n          opacity: 0\n        },\n        draggable: true\n      });\n      text === null || text === void 0 ? void 0 : text.toFront();\n      backContainer.toBack();\n      if (rootNode) {\n        pushAsyncEvent(model._graphId, function () {\n          var _a = keyShape.getBBox(),\n            keyShapeWith = _a.width,\n            maxX = _a.maxX;\n          markerIcon === null || markerIcon === void 0 ? void 0 : markerIcon.attr({\n            x: x + keyShapeWith / 2\n          });\n          text === null || text === void 0 ? void 0 : text.attr({\n            x: x + cardPadding[3] - keyShapeWith / 2\n          });\n          keyShape.attr({\n            x: x - keyShapeWith / 2\n          });\n        });\n      }\n      return keyShape;\n    },\n    setState: function (name, value, node) {\n      var _a, _b, _c, _d;\n      if (['closest', 'selected', 'hover'].includes(name)) {\n        var model = node.getModel();\n        var edgeCfg = model.edgeCfg,\n          nodeCfg = model.nodeCfg,\n          depth = model.depth,\n          markerCfg = model.markerCfg;\n        if (depth === 0) return;\n        var _e = edgeCfg,\n          edgeStateStyles = _e.edgeStateStyles,\n          edgeStyle = _e.style;\n        var _f = nodeCfg,\n          nodeStateStyles_1 = _f.nodeStateStyles,\n          lableStyle = _f.label.style,\n          style = _f.style,\n          lineStyle = _f.lineStyle;\n        // closest 使用 hover 样式\n        var _name_1 = name === 'closest' ? 'hover' : name;\n        var group = node.getContainer();\n        var rootShape = group.find(function (child) {\n          return child.get('name') === 'root-rect-shape';\n        });\n        var markerShapes_1 = [];\n        var getMarkers_1 = function (shapes) {\n          shapes.forEach(function (shape) {\n            var _a;\n            var name = shape.get('name');\n            if ((name === null || name === void 0 ? void 0 : name.startsWith('collapse-icon')) || name === 'icon-add-child') {\n              markerShapes_1.push(shape);\n            }\n            if ((_a = shape.getChildren) === null || _a === void 0 ? void 0 : _a.call(shape).length) getMarkers_1(shape.getChildren());\n          });\n        };\n        getMarkers_1(group.getChildren());\n        var textShape = group.find(function (child) {\n          return child.get('name') === 'text-shape';\n        });\n        var pathShape = group.find(function (child) {\n          return child.get('name') === 'node-path-shape';\n        });\n        var selected = node.hasState('selected');\n        if (value) {\n          var baseStyle_1 = nodeStateStyles_1[_name_1];\n          rootShape === null || rootShape === void 0 ? void 0 : rootShape.attr(__assign({}, ((_a = nodeStateStyles_1[_name_1]) === null || _a === void 0 ? void 0 : _a.rect) || baseStyle_1));\n          markerShapes_1.forEach(function (markerShape) {\n            var _a;\n            markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr(__assign({}, ((_a = nodeStateStyles_1[_name_1]) === null || _a === void 0 ? void 0 : _a.marker) || baseStyle_1));\n          });\n          textShape === null || textShape === void 0 ? void 0 : textShape.attr(__assign({}, ((_b = nodeStateStyles_1[_name_1]) === null || _b === void 0 ? void 0 : _b.text) || baseStyle_1));\n          pathShape === null || pathShape === void 0 ? void 0 : pathShape.attr(__assign({}, edgeStateStyles[_name_1]));\n        } else {\n          if (selected) {\n            var baseStyle_2 = nodeStateStyles_1['selected'];\n            rootShape === null || rootShape === void 0 ? void 0 : rootShape.attr(__assign({}, ((_c = nodeStateStyles_1['selected']) === null || _c === void 0 ? void 0 : _c.rect) || baseStyle_2));\n            markerShapes_1.forEach(function (markerShape) {\n              var _a;\n              markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr(__assign({}, ((_a = nodeStateStyles_1['selected']) === null || _a === void 0 ? void 0 : _a.marker) || baseStyle_2));\n            });\n            textShape === null || textShape === void 0 ? void 0 : textShape.attr(__assign({}, ((_d = nodeStateStyles_1['selected']) === null || _d === void 0 ? void 0 : _d.text) || baseStyle_2));\n            pathShape === null || pathShape === void 0 ? void 0 : pathShape.attr(__assign({}, edgeStateStyles['selected']));\n          } else {\n            var cardStyle = getStyle(style, model, node);\n            var textStyle = getStyle(lableStyle, model, node);\n            var pathStyle = getStyle(lineStyle, model, node);\n            var markStyle_1 = getStyle(markerCfg, model, node);\n            rootShape === null || rootShape === void 0 ? void 0 : rootShape.attr(cardStyle);\n            textShape === null || textShape === void 0 ? void 0 : textShape.attr(textStyle);\n            pathShape === null || pathShape === void 0 ? void 0 : pathShape.attr(pathStyle);\n            markerShapes_1.forEach(function (markerShape) {\n              markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr(markStyle_1 === null || markStyle_1 === void 0 ? void 0 : markStyle_1.style);\n            });\n          }\n        }\n      }\n    }\n  });\n  G6.registerEdge('file-tree-edge', {\n    getControlPoints: function (cfg) {\n      var startPoint = cfg.startPoint;\n      var endPoint = cfg.endPoint;\n      return [startPoint, {\n        x: startPoint.x,\n        y: endPoint.y\n      }, endPoint];\n    },\n    update: undefined\n  }, 'polyline');\n};\nexport var registerFileTreeBehaviors = function () {\n  G6.registerBehavior('wheel-scroll', {\n    getDefaultCfg: function () {\n      return {\n        direction: 'y',\n        zoomKey: 'ctrl',\n        sensitivity: 3,\n        // wheel-scroll 可滚动的扩展范围，默认为 0，即最多可以滚动一屏的位置\n        // 当设置的值大于 0 时，即滚动可以超过一屏\n        // 当设置的值小于 0 时，相当于缩小了可滚动范围\n        // 具体实例可参考：https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*IFfoS67_HssAAAAAAAAAAAAAARQnAQ\n        scalableRange: -64\n      };\n    },\n    getEvents: function () {\n      if (!this.zoomKey || ['shift', 'ctrl', 'alt', 'control'].indexOf(this.zoomKey) === -1) this.zoomKey = 'ctrl';\n      return {\n        wheel: 'onWheel'\n      };\n    },\n    onWheel: function (ev) {\n      var graph = this.graph;\n      var keyDown = ev[\"\".concat(this.zoomKey, \"Key\")];\n      if (this.zoomKey === 'control') keyDown = ev.ctrlKey;\n      if (keyDown) {\n        var sensitivity = this.get('sensitivity');\n        var canvas = graph.get('canvas');\n        var point = canvas.getPointByClient(ev.clientX, ev.clientY);\n        var ratio = graph.getZoom();\n        if (ev.wheelDelta > 0) {\n          ratio *= 1 + 0.01 * sensitivity;\n        } else {\n          ratio *= 1 - 0.01 * sensitivity;\n        }\n        graph.zoomTo(ratio, {\n          x: point.x,\n          y: point.y\n        });\n        graph.emit('wheelzoom', ev);\n      } else {\n        var dx = ev.deltaX || ev.movementX;\n        var dy = ev.deltaY || ev.movementY;\n        if (!dy && navigator.userAgent.indexOf('Firefox') > -1) dy = -ev.wheelDelta * 125 / 3;\n        var width = this.graph.get('width');\n        var height = this.graph.get('height');\n        var graphCanvasBBox = this.graph.get('group').getCanvasBBox();\n        var expandWidth = this.scalableRange;\n        var expandHeight = this.scalableRange;\n        // 若 scalableRange 是 0~1 的小数，则作为比例考虑\n        if (expandWidth < 1 && expandWidth > -1) {\n          expandWidth = width * expandWidth;\n          expandHeight = height * expandHeight;\n        }\n        var minX = graphCanvasBBox.minX,\n          maxX = graphCanvasBBox.maxX,\n          minY = graphCanvasBBox.minY,\n          maxY = graphCanvasBBox.maxY;\n        if (dx > 0) {\n          if (maxX < -expandWidth) {\n            dx = 0;\n          } else if (maxX - dx < -expandWidth) {\n            dx = maxX + expandWidth;\n          }\n        } else if (dx < 0) {\n          if (minX > width + expandWidth) {\n            dx = 0;\n          } else if (minX - dx > width + expandWidth) {\n            dx = minX - (width + expandWidth);\n          }\n        }\n        if (dy > 0) {\n          if (maxY < -expandHeight) {\n            dy = 0;\n          } else if (maxY - dy < -expandHeight) {\n            dy = maxY + expandHeight;\n          }\n        } else if (dy < 0) {\n          if (minY > height + expandHeight) {\n            dy = 0;\n          } else if (minY - dy > height + expandHeight) {\n            dy = minY - (height + expandHeight);\n          }\n        }\n        if (this.get('direction') === 'x') {\n          dy = 0;\n        } else if (this.get('direction') === 'y') {\n          dx = 0;\n        }\n        graph.translate(-dx, -dy);\n      }\n      ev.preventDefault();\n    }\n  });\n  G6.registerBehavior('drag-branch', {\n    getEvents: function getEvents() {\n      return {\n        'node:dragstart': 'dragstart',\n        'node:drag': 'drag',\n        'node:dragend': 'dragend',\n        'node:dragenter': 'dragenter',\n        'node:dragleave': 'dragleave'\n      };\n    },\n    dragstart: function dragstart(e) {\n      var _a;\n      this.set('foundNode', undefined);\n      this.origin = {\n        x: e.x,\n        y: e.y\n      };\n      this.target = e.item;\n      var graph = this.get('graph');\n      // 未配置 shouldBegin 时 默认为 true\n      if (this.shouldBegin && !this.shouldBegin(graph.findDataById((_a = this.target) === null || _a === void 0 ? void 0 : _a.getID()))) {\n        this.began = false;\n        return;\n      }\n      this.began = true;\n    },\n    dragenter: function dragenter(e) {\n      if (!this.began) {\n        return;\n      }\n      var graph = this.get('graph');\n      var foundNode = e.item;\n      if (foundNode) graph.setItemState(foundNode, 'closest', true);\n      this.set('foundNode', foundNode);\n    },\n    dragleave: function dragleave(e) {\n      if (!this.began) {\n        return;\n      }\n      var graph = this.get('graph');\n      var foundNode = this.get('foundNode');\n      if (foundNode) graph.setItemState(foundNode, 'closest', false);\n      this.set('foundNode', foundNode);\n    },\n    drag: function drag(e) {\n      if (!this.began) {\n        return;\n      }\n      // move the delegate\n      this.updateDelegate(e);\n    },\n    dragend: function dragend(e) {\n      var graph = this.get('graph');\n      var foundNode = this.get('foundNode');\n      if (foundNode) {\n        graph.setItemState(foundNode, 'closest', false);\n      }\n      if (!this.began) {\n        return;\n      }\n      this.began = false;\n      var item = e.item;\n      var id = item.getID();\n      var data = graph.findDataById(id);\n      // remove delegate\n      if (this.delegateRect) {\n        this.delegateRect.remove();\n        this.delegateRect = null;\n      }\n      if (!foundNode) {\n        graph.emit('afterdragbranch', {\n          success: false,\n          message: 'Failed. No node close to the dragged node.',\n          branch: data\n        });\n        return;\n      }\n      var foundNodeId = foundNode.getID();\n      var oriParentData;\n      Util.traverseTree(graph.get('data'), function (d) {\n        var _a, _b;\n        if (oriParentData) return false;\n        if ((_b = (_a = d.children) === null || _a === void 0 ? void 0 : _a.filter(function (child) {\n          return child.id === id;\n        })) === null || _b === void 0 ? void 0 : _b.length) {\n          oriParentData = d;\n        }\n        return true;\n      });\n      // 未配置 shouldEnd，则默认为 true\n      if (this.shouldEnd && !this.shouldEnd(data, graph.findDataById(foundNodeId), oriParentData)) {\n        return;\n      }\n      // if the foundNode is a descent of the dragged node, return\n      var isDescent = false;\n      Util.traverseTree(data, function (d) {\n        if (d.id === foundNodeId) isDescent = true;\n      });\n      if (isDescent) {\n        var newParentData_1 = graph.findDataById(foundNodeId);\n        graph.emit('afterdragbranch', {\n          success: false,\n          message: 'Failed. The target node is a descendant of the dragged node.',\n          newParentData: newParentData_1,\n          branch: data\n        });\n        return;\n      }\n      var newParentData = graph.findDataById(foundNodeId);\n      // 触发外部对数据的改变\n      graph.emit('afterdragbranch', {\n        success: true,\n        message: 'Success.',\n        newParentData: newParentData,\n        oriParentData: oriParentData,\n        branch: data\n      });\n      graph.removeChild(data.id);\n      setTimeout(function () {\n        var newChildren = newParentData.children;\n        if (newChildren) newChildren.push(data);else newChildren = [data];\n        // 更新正在被操作的子树颜色\n        Util.traverseTree(data, function (d) {\n          d.branchColor = newParentData.branchColor;\n        });\n        graph.updateChildren(newChildren, newParentData.id);\n      }, 600);\n    },\n    updateDelegate: function (e) {\n      var graph = this.graph;\n      if (!this.delegateRect) {\n        // 拖动多个\n        var parent_1 = graph.get('group');\n        var attrs = {\n          fill: '#F3F9FF',\n          fillOpacity: 0.5,\n          stroke: '#1890FF',\n          strokeOpacity: 0.9,\n          lineDash: [5, 5]\n        };\n        var _a = this.calculationGroupPosition(e),\n          cx = _a.x,\n          cy = _a.y,\n          width = _a.width,\n          height = _a.height,\n          minX = _a.minX,\n          minY = _a.minY;\n        this.originPoint = {\n          x: cx,\n          y: cy,\n          width: width,\n          height: height,\n          minX: minX,\n          minY: minY\n        };\n        // model上的x, y是相对于图形中心的，delegateShape是g实例，x,y是绝对坐标\n        this.delegateRect = parent_1.addShape('rect', {\n          attrs: __assign({\n            width: width,\n            height: height,\n            x: cx,\n            y: cy\n          }, attrs),\n          name: 'rect-delegate-shape'\n        });\n        this.delegateRect.set('capture', false);\n      } else {\n        var clientX = e.x - this.origin.x + this.originPoint.minX;\n        var clientY = e.y - this.origin.y + this.originPoint.minY;\n        this.delegateRect.attr({\n          x: clientX,\n          y: clientY\n        });\n      }\n    },\n    calculationGroupPosition: function (evt) {\n      var node = this.target;\n      if (!node) {\n        node = evt.item;\n      }\n      var bbox = node.getBBox();\n      var minX = bbox.minX,\n        minY = bbox.minY,\n        maxX = bbox.maxX,\n        maxY = bbox.maxY;\n      return {\n        x: Math.floor(minX),\n        y: Math.floor(minY),\n        width: Math.ceil(maxX) - Math.floor(minX),\n        height: Math.ceil(maxY) - Math.floor(minY),\n        minX: minX,\n        minY: minY\n      };\n    }\n  });\n  G6.registerBehavior('click-node', {\n    getEvents: function () {\n      return {\n        'node:click': 'onNodeClick',\n        'canvas:click': 'onCanvasClick'\n      };\n    },\n    onNodeClick: function (e) {\n      return __awaiter(this, void 0, void 0, function () {\n        var item, shapeName, model, graph, data, _a, id, value, _b, getChildren, fetchLoading, appendChildren;\n        var _c;\n        return __generator(this, function (_d) {\n          switch (_d.label) {\n            case 0:\n              item = e.item;\n              shapeName = e.target.get('name');\n              model = item.getModel();\n              graph = this.graph;\n              if (!(shapeName === 'icon-add-child')) return [3 /*break*/, 3];\n              data = graph.findDataById(item.getID());\n              if (!data.children) data.children = [];\n              this.graph.emit('add:children', e);\n              _a = e.item.getModel(), id = _a.id, value = _a.value;\n              _b = graph.get('extraPlugin'), getChildren = _b.getChildren, fetchLoading = _b.fetchLoading;\n              if (!getChildren) return [3 /*break*/, 2];\n              createFetchLoading(model, fetchLoading);\n              return [4 /*yield*/, getChildren({\n                id: id,\n                value: value\n              })];\n            case 1:\n              appendChildren = _d.sent();\n              (_c = data.children).push.apply(_c, appendChildren);\n              // @ts-ignore\n              graph.updateChildren(data.children, data.id);\n              closeFetchLoading();\n              _d.label = 2;\n            case 2:\n              return [2 /*return*/];\n            case 3:\n              // 选中节点\n              graph.getNodes().forEach(function (node) {\n                graph.setItemState(node, 'selected', false);\n              });\n              graph.setItemState(item, 'selected', true);\n              return [2 /*return*/];\n          }\n        });\n      });\n    },\n    onCanvasClick: function (e) {\n      var _this = this;\n      this.graph.getNodes().forEach(function (node) {\n        _this.graph.setItemState(node, 'selected', false);\n      });\n    }\n  });\n  G6.registerBehavior('hover-node', {\n    getEvents: function () {\n      return {\n        'node:mouseover': 'onNodeMouseOver',\n        'node:mouseleave': 'onNodeMouseLeave',\n        'node:mouseenter': 'onNodeMouseEnter'\n      };\n    },\n    onNodeMouseEnter: function (e) {\n      var _a;\n      var item = e.item;\n      if (!item || item.get('destroyed')) return;\n      item.toFront();\n      var model = item.getModel();\n      var collapsed = model.collapsed,\n        depth = model.depth;\n      var rootNode = depth === 0 || model.isRoot;\n      var group = item.getContainer();\n      if (rootNode) return;\n      // 控制子节点个数标记\n      if (!collapsed) {\n        (_a = group.find(function (e) {\n          return e.get('name') === 'collapse-group';\n        })) === null || _a === void 0 ? void 0 : _a.show();\n      }\n      this.graph.setItemState(item, 'hover', true);\n    },\n    onNodeMouseOver: function (e) {\n      var _a, _b;\n      this.graph.emit('tooltip: show', e);\n      // expand 状态下，若 hover 到子节点个数标记，填充背景+显示收起 icon\n      var item = e.item;\n      var group = item.getContainer();\n      var model = item.getModel();\n      if (!model.collapsed) {\n        var childCountGroup = group.find(function (e) {\n          return e.get('name') === 'collapse-group';\n        });\n        if (childCountGroup) {\n          childCountGroup.show();\n          (_a = childCountGroup.find(function (e) {\n            return e.get('name') === 'collapse-icon-arrow';\n          })) === null || _a === void 0 ? void 0 : _a.show();\n        }\n      }\n      (_b = group.find(function (e) {\n        return e.get('name') === 'icon-add-child';\n      })) === null || _b === void 0 ? void 0 : _b.show();\n    },\n    onNodeMouseLeave: function (e) {\n      var _a, _b;\n      var item = e.item;\n      var model = item.getModel();\n      var group = item.getContainer();\n      var collapsed = model.collapsed;\n      if (!collapsed) {\n        var childCountGroup = group.find(function (e) {\n          return e.get('name') === 'collapse-group';\n        });\n        if (childCountGroup) {\n          childCountGroup.hide();\n          (_a = childCountGroup.find(function (e) {\n            return e.get('name') === 'collapse-icon-arrow';\n          })) === null || _a === void 0 ? void 0 : _a.hide();\n        }\n      }\n      (_b = group.find(function (e) {\n        return e.get('name') === 'icon-add-child';\n      })) === null || _b === void 0 ? void 0 : _b.hide();\n      this.graph.emit('tooltip: hide', e);\n    }\n  });\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","G6","getCssPadding","getStyle","createFetchLoading","closeFetchLoading","getMarkerPosition","getGlobalInstance","getChildrenData","pushAsyncEvent","Util","registerFileTreeGeometries","defaultLineWidth","defaultTextStyle","fill","textAlign","fontSize","fontFamily","cursor","textBaseline","defaultStroke","markerSize","defaultMarkerCfg","width","height","radius","stroke","r","lineWidth","registerNode","options","style","stateStyles","hover","fillOpacity","selected","addLabel","group","x","addShape","attrs","text","name","addCollapse","props","collapsed","markerCfg","model","size","_a","markerStyle","config","childCountGroup","addGroup","rectX","rectY","path","capture","show","hide","addMarker","startX","_b","startY","_c","position","_d","markerIcon","symbol","Marker","expand","addHoverBack","draggable","addName","addBottomLine","draw","depth","children","nodeCfg","padding","customContent","lineStyle","bottomLineStyle","fileName","cardPadding","rootNode","childCount","textWidth","getBBox","Math","max","cardStyle","keyShapeAttrs","keyShape","callbackMarkerCfg","graph","_graphId","get","getData","g_currentPath","bbox","minX","minY","maxX","maxY","backContainer","opacity","toFront","toBack","keyShapeWith","attr","setState","node","includes","getModel","edgeCfg","_e","edgeStateStyles","edgeStyle","_f","nodeStateStyles_1","nodeStateStyles","lableStyle","_name_1","getContainer","rootShape","find","child","markerShapes_1","getMarkers_1","shapes","forEach","shape","startsWith","getChildren","textShape","pathShape","hasState","baseStyle_1","rect","markerShape","marker","baseStyle_2","textStyle","pathStyle","markStyle_1","registerEdge","getControlPoints","cfg","startPoint","endPoint","update","undefined","registerFileTreeBehaviors","registerBehavior","getDefaultCfg","direction","zoomKey","sensitivity","scalableRange","getEvents","indexOf","wheel","onWheel","ev","keyDown","concat","ctrlKey","canvas","point","getPointByClient","clientX","clientY","ratio","getZoom","wheelDelta","zoomTo","emit","dx","deltaX","movementX","dy","deltaY","movementY","navigator","userAgent","graphCanvasBBox","getCanvasBBox","expandWidth","expandHeight","translate","preventDefault","dragstart","set","origin","target","item","shouldBegin","findDataById","getID","began","dragenter","foundNode","setItemState","dragleave","drag","updateDelegate","dragend","id","data","delegateRect","remove","success","message","branch","foundNodeId","oriParentData","traverseTree","d","filter","shouldEnd","isDescent","newParentData_1","newParentData","removeChild","setTimeout","newChildren","branchColor","updateChildren","parent_1","strokeOpacity","lineDash","calculationGroupPosition","cx","cy","originPoint","evt","floor","ceil","onNodeClick","shapeName","fetchLoading","appendChildren","getNodes","onCanvasClick","_this","onNodeMouseEnter","isRoot","onNodeMouseOver","onNodeMouseLeave"],"sources":["/Users/invotradesign/CascadeProjects/site-users-app/node_modules/@ant-design/graphs/es/components/file-tree-graph/customItem.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport G6 from '@antv/g6';\nimport { getCssPadding, getStyle, createFetchLoading, closeFetchLoading, getMarkerPosition, getGlobalInstance, getChildrenData, pushAsyncEvent, } from '../../utils';\nvar Util = G6.Util;\n// file tree\nexport var registerFileTreeGeometries = function () {\n    var defaultLineWidth = 2;\n    var defaultTextStyle = {\n        fill: 'rgba(0,0,0,.65)',\n        textAlign: 'middle',\n        fontSize: 14,\n        fontFamily: 'PingFangSC-Regular',\n        cursor: 'pointer',\n        textBaseline: 'middle',\n    };\n    var defaultStroke = '#40a9ff';\n    var markerSize = 12;\n    var defaultMarkerCfg = {\n        width: markerSize,\n        height: markerSize,\n        radius: markerSize / 2,\n        stroke: '#999',\n        fill: '#fff',\n        cursor: 'pointer',\n        r: markerSize / 2,\n        lineWidth: 1,\n    };\n    G6.registerNode('file-tree-node', {\n        options: {\n            style: {\n                fill: '#e8f7ff',\n            },\n            stateStyles: {\n                hover: {\n                    fillOpacity: 0.6,\n                },\n                selected: {},\n            },\n        },\n        addLabel: function (group, label, x, y) {\n            return group.addShape('text', {\n                attrs: {\n                    text: label,\n                    x: x * 2,\n                    y: y,\n                    textAlign: 'left',\n                    textBaseline: 'top',\n                    fontFamily: 'PingFangSC-Regular',\n                },\n                cursor: 'pointer',\n                name: 'name-text-shape',\n            });\n        },\n        addCollapse: function (group, props) {\n            var collapsed = props.collapsed, markerCfg = props.markerCfg, model = props.model, size = props.size;\n            var style = markerCfg.style;\n            var _a = [0, size[1]], x = _a[0], y = _a[1];\n            // 子类数量 icon，绘制圆点在节点正下方\n            var markerStyle = getStyle(style, model, group, 'collapse');\n            var config = __assign(__assign({}, defaultMarkerCfg), markerStyle);\n            var childCountGroup = group.addGroup({\n                name: 'collapse-group',\n            });\n            var rectX = x - config.width / 2;\n            var rectY = y - config.height / 2;\n            childCountGroup.addShape('rect', {\n                attrs: __assign({ lineWidth: defaultLineWidth, x: rectX, y: rectY }, config),\n                name: 'collapse-icon-circle',\n            });\n            childCountGroup.addShape('path', {\n                attrs: __assign({ path: collapsed\n                        ? [\n                            ['M', rectX + config.width / 4, y - config.height / 4],\n                            ['L', rectX + (config.width * 3) / 4, y],\n                            ['L', rectX + config.width / 4, y + config.height / 4],\n                        ]\n                        : [\n                            ['M', rectX + config.width / 4, y - config.height / 4],\n                            ['L', rectX + config.width / 2, y + config.height / 4],\n                            ['L', rectX + (config.width * 3) / 4, y - config.height / 4],\n                        ] }, config),\n                name: 'collapse-icon-arrow',\n                capture: false,\n            });\n            if (collapsed) {\n                childCountGroup.show();\n            }\n            else {\n                childCountGroup.hide();\n            }\n        },\n        addMarker: function (group, props) {\n            var markerCfg = props.markerCfg, model = props.model, size = props.size, _a = props.startX, startX = _a === void 0 ? 0 : _a, _b = props.startY, startY = _b === void 0 ? 0 : _b;\n            var style = markerCfg.style, _c = markerCfg.position, position = _c === void 0 ? 'right' : _c, show = markerCfg.show;\n            if (!show)\n                return;\n            // 子类数量 icon，绘制圆点在节点正下方\n            var markerStyle = getStyle(style, model, group);\n            var config = __assign(__assign({}, defaultMarkerCfg), markerStyle);\n            var _d = getMarkerPosition(position, size), x = _d.x, y = _d.y;\n            // 增加子节点 icon\n            var markerIcon = group.addShape('marker', {\n                attrs: __assign({ x: x + startX, y: y + startY, symbol: G6.Marker.expand }, config),\n                name: 'icon-add-child',\n            });\n            markerIcon.hide();\n            return markerIcon;\n        },\n        addHoverBack: function (group, props) {\n            var x = props.x, y = props.y, width = props.width, height = props.height, style = props.style;\n            group.addShape('rect', {\n                attrs: __assign({ x: x, y: y, width: width, height: height, radius: 4, cursor: 'pointer' }, style),\n                // capture: false,\n                name: 'main-shape',\n                draggable: true,\n            });\n        },\n        addName: function (group, props) {\n            var label = props.label, _a = props.x, x = _a === void 0 ? 0 : _a, y = props.y, style = props.style;\n            return group.addShape('text', {\n                attrs: __assign(__assign({ text: label, x: x, y: y }, defaultTextStyle), style),\n                name: 'text-shape',\n                draggable: true,\n            });\n        },\n        addBottomLine: function (group, props) {\n            var x = props.x, y = props.y, width = props.width, stroke = props.stroke, lineWidth = props.lineWidth;\n            return group.addShape('path', {\n                attrs: {\n                    path: [\n                        ['M', x - 1, y],\n                        ['L', width, y],\n                    ],\n                    stroke: stroke,\n                    lineWidth: lineWidth,\n                },\n                name: 'node-path-shape',\n            });\n        },\n        draw: function (model, group) {\n            var collapsed = model.collapsed, depth = model.depth, value = model.value, markerCfg = model.markerCfg, _a = model.children, children = _a === void 0 ? [] : _a;\n            var nodeCfg = model.nodeCfg;\n            var style = nodeCfg.style, label = nodeCfg.label, _b = nodeCfg.padding, padding = _b === void 0 ? 0 : _b, customContent = nodeCfg.customContent, lineStyle = nodeCfg.lineStyle;\n            var bottomLineStyle = getStyle(lineStyle, model, group);\n            var fileName = value.text;\n            var size = (nodeCfg === null || nodeCfg === void 0 ? void 0 : nodeCfg.size) || [];\n            if (typeof size === 'number')\n                size = [size, size];\n            var cardPadding = getCssPadding(padding);\n            // 是否为根节点\n            var rootNode = depth === 0;\n            // 子节点数量\n            var childCount = children.length || 0;\n            var height = size[1] || 28;\n            var x = 0;\n            var y = 0;\n            var text; // 名称文本\n            if (customContent) {\n                text = customContent(value, group, {\n                    startX: x + cardPadding[3],\n                    startY: height / 2,\n                    width: size[0],\n                });\n            }\n            else {\n                text = this.addName(group, {\n                    label: fileName,\n                    x: x + cardPadding[3],\n                    y: height / 2,\n                    style: getStyle(label.style, model, group),\n                });\n            }\n            var textWidth = group.getBBox().width;\n            var width = Math.max(size[0], textWidth + cardPadding[1] + cardPadding[3]);\n            if (!size.length)\n                size = [width, height];\n            var cardStyle = getStyle(style, model, group);\n            var keyShapeAttrs = __assign({ x: x, y: y, width: width, height: height, radius: 12 }, cardStyle);\n            var keyShape = group.addShape('rect', {\n                attrs: keyShapeAttrs,\n                name: 'root-rect-shape',\n            });\n            // 底部横线\n            !rootNode &&\n                this.addBottomLine(group, __assign({ stroke: defaultStroke, lineWidth: defaultLineWidth, x: x, width: width, y: y + height }, bottomLineStyle));\n            var callbackMarkerCfg = markerCfg;\n            var graph = getGlobalInstance(model._graphId);\n            if (typeof markerCfg === 'function') {\n                callbackMarkerCfg = markerCfg(__assign(__assign({}, model), { children: getChildrenData(graph === null || graph === void 0 ? void 0 : graph.get('eventData').getData(), model.g_currentPath) }), group);\n            }\n            if (childCount && !rootNode)\n                this.addCollapse(group, {\n                    collapsed: collapsed,\n                    markerCfg: callbackMarkerCfg,\n                    model: model,\n                    size: [width, height],\n                });\n            var markerIcon = this.addMarker(group, {\n                collapsed: collapsed,\n                markerCfg: callbackMarkerCfg,\n                model: model,\n                size: [width, height],\n                startX: text.getBBox().x - cardPadding[3],\n                startY: keyShape.getBBox().y,\n            });\n            var bbox = group.getBBox();\n            var minX = bbox.minX, minY = bbox.minY, maxX = bbox.maxX, maxY = bbox.maxY;\n            var backContainer = group.addShape('path', {\n                attrs: {\n                    path: childCount\n                        ? [\n                            ['M', minX, minY],\n                            ['L', maxX, minY],\n                            ['L', maxX, maxY],\n                            ['L', minX + 20, maxY],\n                            ['L', minX + 20, maxY + 20],\n                            ['L', minX, maxY + 20],\n                            ['Z'],\n                        ]\n                        : [['M', minX, minY], ['L', maxX, minY], ['L', maxX, maxY], ['L', minX, maxY], ['Z']],\n                    fill: '#fff',\n                    opacity: 0,\n                },\n                draggable: true,\n            });\n            text === null || text === void 0 ? void 0 : text.toFront();\n            backContainer.toBack();\n            if (rootNode) {\n                pushAsyncEvent(model._graphId, function () {\n                    var _a = keyShape.getBBox(), keyShapeWith = _a.width, maxX = _a.maxX;\n                    markerIcon === null || markerIcon === void 0 ? void 0 : markerIcon.attr({\n                        x: x + keyShapeWith / 2,\n                    });\n                    text === null || text === void 0 ? void 0 : text.attr({\n                        x: x + cardPadding[3] - keyShapeWith / 2,\n                    });\n                    keyShape.attr({\n                        x: x - keyShapeWith / 2,\n                    });\n                });\n            }\n            return keyShape;\n        },\n        setState: function (name, value, node) {\n            var _a, _b, _c, _d;\n            if (['closest', 'selected', 'hover'].includes(name)) {\n                var model = node.getModel();\n                var edgeCfg = model.edgeCfg, nodeCfg = model.nodeCfg, depth = model.depth, markerCfg = model.markerCfg;\n                if (depth === 0)\n                    return;\n                var _e = edgeCfg, edgeStateStyles = _e.edgeStateStyles, edgeStyle = _e.style;\n                var _f = nodeCfg, nodeStateStyles_1 = _f.nodeStateStyles, lableStyle = _f.label.style, style = _f.style, lineStyle = _f.lineStyle;\n                // closest 使用 hover 样式\n                var _name_1 = name === 'closest' ? 'hover' : name;\n                var group = node.getContainer();\n                var rootShape = group.find(function (child) { return child.get('name') === 'root-rect-shape'; });\n                var markerShapes_1 = [];\n                var getMarkers_1 = function (shapes) {\n                    shapes.forEach(function (shape) {\n                        var _a;\n                        var name = shape.get('name');\n                        if ((name === null || name === void 0 ? void 0 : name.startsWith('collapse-icon')) || name === 'icon-add-child') {\n                            markerShapes_1.push(shape);\n                        }\n                        if ((_a = shape.getChildren) === null || _a === void 0 ? void 0 : _a.call(shape).length)\n                            getMarkers_1(shape.getChildren());\n                    });\n                };\n                getMarkers_1(group.getChildren());\n                var textShape = group.find(function (child) { return child.get('name') === 'text-shape'; });\n                var pathShape = group.find(function (child) { return child.get('name') === 'node-path-shape'; });\n                var selected = node.hasState('selected');\n                if (value) {\n                    var baseStyle_1 = nodeStateStyles_1[_name_1];\n                    rootShape === null || rootShape === void 0 ? void 0 : rootShape.attr(__assign({}, (((_a = nodeStateStyles_1[_name_1]) === null || _a === void 0 ? void 0 : _a.rect) || baseStyle_1)));\n                    markerShapes_1.forEach(function (markerShape) {\n                        var _a;\n                        markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr(__assign({}, (((_a = nodeStateStyles_1[_name_1]) === null || _a === void 0 ? void 0 : _a.marker) || baseStyle_1)));\n                    });\n                    textShape === null || textShape === void 0 ? void 0 : textShape.attr(__assign({}, (((_b = nodeStateStyles_1[_name_1]) === null || _b === void 0 ? void 0 : _b.text) || baseStyle_1)));\n                    pathShape === null || pathShape === void 0 ? void 0 : pathShape.attr(__assign({}, edgeStateStyles[_name_1]));\n                }\n                else {\n                    if (selected) {\n                        var baseStyle_2 = nodeStateStyles_1['selected'];\n                        rootShape === null || rootShape === void 0 ? void 0 : rootShape.attr(__assign({}, (((_c = nodeStateStyles_1['selected']) === null || _c === void 0 ? void 0 : _c.rect) || baseStyle_2)));\n                        markerShapes_1.forEach(function (markerShape) {\n                            var _a;\n                            markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr(__assign({}, (((_a = nodeStateStyles_1['selected']) === null || _a === void 0 ? void 0 : _a.marker) || baseStyle_2)));\n                        });\n                        textShape === null || textShape === void 0 ? void 0 : textShape.attr(__assign({}, (((_d = nodeStateStyles_1['selected']) === null || _d === void 0 ? void 0 : _d.text) || baseStyle_2)));\n                        pathShape === null || pathShape === void 0 ? void 0 : pathShape.attr(__assign({}, edgeStateStyles['selected']));\n                    }\n                    else {\n                        var cardStyle = getStyle(style, model, node);\n                        var textStyle = getStyle(lableStyle, model, node);\n                        var pathStyle = getStyle(lineStyle, model, node);\n                        var markStyle_1 = getStyle(markerCfg, model, node);\n                        rootShape === null || rootShape === void 0 ? void 0 : rootShape.attr(cardStyle);\n                        textShape === null || textShape === void 0 ? void 0 : textShape.attr(textStyle);\n                        pathShape === null || pathShape === void 0 ? void 0 : pathShape.attr(pathStyle);\n                        markerShapes_1.forEach(function (markerShape) {\n                            markerShape === null || markerShape === void 0 ? void 0 : markerShape.attr(markStyle_1 === null || markStyle_1 === void 0 ? void 0 : markStyle_1.style);\n                        });\n                    }\n                }\n            }\n        },\n    });\n    G6.registerEdge('file-tree-edge', {\n        getControlPoints: function (cfg) {\n            var startPoint = cfg.startPoint;\n            var endPoint = cfg.endPoint;\n            return [\n                startPoint,\n                {\n                    x: startPoint.x,\n                    y: endPoint.y,\n                },\n                endPoint,\n            ];\n        },\n        update: undefined,\n    }, 'polyline');\n};\nexport var registerFileTreeBehaviors = function () {\n    G6.registerBehavior('wheel-scroll', {\n        getDefaultCfg: function () {\n            return {\n                direction: 'y',\n                zoomKey: 'ctrl',\n                sensitivity: 3,\n                // wheel-scroll 可滚动的扩展范围，默认为 0，即最多可以滚动一屏的位置\n                // 当设置的值大于 0 时，即滚动可以超过一屏\n                // 当设置的值小于 0 时，相当于缩小了可滚动范围\n                // 具体实例可参考：https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*IFfoS67_HssAAAAAAAAAAAAAARQnAQ\n                scalableRange: -64,\n            };\n        },\n        getEvents: function () {\n            if (!this.zoomKey || ['shift', 'ctrl', 'alt', 'control'].indexOf(this.zoomKey) === -1)\n                this.zoomKey = 'ctrl';\n            return {\n                wheel: 'onWheel',\n            };\n        },\n        onWheel: function (ev) {\n            var graph = this.graph;\n            var keyDown = ev[\"\".concat(this.zoomKey, \"Key\")];\n            if (this.zoomKey === 'control')\n                keyDown = ev.ctrlKey;\n            if (keyDown) {\n                var sensitivity = this.get('sensitivity');\n                var canvas = graph.get('canvas');\n                var point = canvas.getPointByClient(ev.clientX, ev.clientY);\n                var ratio = graph.getZoom();\n                if (ev.wheelDelta > 0) {\n                    ratio *= 1 + 0.01 * sensitivity;\n                }\n                else {\n                    ratio *= 1 - 0.01 * sensitivity;\n                }\n                graph.zoomTo(ratio, {\n                    x: point.x,\n                    y: point.y,\n                });\n                graph.emit('wheelzoom', ev);\n            }\n            else {\n                var dx = ev.deltaX || ev.movementX;\n                var dy = ev.deltaY || ev.movementY;\n                if (!dy && navigator.userAgent.indexOf('Firefox') > -1)\n                    dy = (-ev.wheelDelta * 125) / 3;\n                var width = this.graph.get('width');\n                var height = this.graph.get('height');\n                var graphCanvasBBox = this.graph.get('group').getCanvasBBox();\n                var expandWidth = this.scalableRange;\n                var expandHeight = this.scalableRange;\n                // 若 scalableRange 是 0~1 的小数，则作为比例考虑\n                if (expandWidth < 1 && expandWidth > -1) {\n                    expandWidth = width * expandWidth;\n                    expandHeight = height * expandHeight;\n                }\n                var minX = graphCanvasBBox.minX, maxX = graphCanvasBBox.maxX, minY = graphCanvasBBox.minY, maxY = graphCanvasBBox.maxY;\n                if (dx > 0) {\n                    if (maxX < -expandWidth) {\n                        dx = 0;\n                    }\n                    else if (maxX - dx < -expandWidth) {\n                        dx = maxX + expandWidth;\n                    }\n                }\n                else if (dx < 0) {\n                    if (minX > width + expandWidth) {\n                        dx = 0;\n                    }\n                    else if (minX - dx > width + expandWidth) {\n                        dx = minX - (width + expandWidth);\n                    }\n                }\n                if (dy > 0) {\n                    if (maxY < -expandHeight) {\n                        dy = 0;\n                    }\n                    else if (maxY - dy < -expandHeight) {\n                        dy = maxY + expandHeight;\n                    }\n                }\n                else if (dy < 0) {\n                    if (minY > height + expandHeight) {\n                        dy = 0;\n                    }\n                    else if (minY - dy > height + expandHeight) {\n                        dy = minY - (height + expandHeight);\n                    }\n                }\n                if (this.get('direction') === 'x') {\n                    dy = 0;\n                }\n                else if (this.get('direction') === 'y') {\n                    dx = 0;\n                }\n                graph.translate(-dx, -dy);\n            }\n            ev.preventDefault();\n        },\n    });\n    G6.registerBehavior('drag-branch', {\n        getEvents: function getEvents() {\n            return {\n                'node:dragstart': 'dragstart',\n                'node:drag': 'drag',\n                'node:dragend': 'dragend',\n                'node:dragenter': 'dragenter',\n                'node:dragleave': 'dragleave',\n            };\n        },\n        dragstart: function dragstart(e) {\n            var _a;\n            this.set('foundNode', undefined);\n            this.origin = {\n                x: e.x,\n                y: e.y,\n            };\n            this.target = e.item;\n            var graph = this.get('graph');\n            // 未配置 shouldBegin 时 默认为 true\n            if (this.shouldBegin && !this.shouldBegin(graph.findDataById((_a = this.target) === null || _a === void 0 ? void 0 : _a.getID()))) {\n                this.began = false;\n                return;\n            }\n            this.began = true;\n        },\n        dragenter: function dragenter(e) {\n            if (!this.began) {\n                return;\n            }\n            var graph = this.get('graph');\n            var foundNode = e.item;\n            if (foundNode)\n                graph.setItemState(foundNode, 'closest', true);\n            this.set('foundNode', foundNode);\n        },\n        dragleave: function dragleave(e) {\n            if (!this.began) {\n                return;\n            }\n            var graph = this.get('graph');\n            var foundNode = this.get('foundNode');\n            if (foundNode)\n                graph.setItemState(foundNode, 'closest', false);\n            this.set('foundNode', foundNode);\n        },\n        drag: function drag(e) {\n            if (!this.began) {\n                return;\n            }\n            // move the delegate\n            this.updateDelegate(e);\n        },\n        dragend: function dragend(e) {\n            var graph = this.get('graph');\n            var foundNode = this.get('foundNode');\n            if (foundNode) {\n                graph.setItemState(foundNode, 'closest', false);\n            }\n            if (!this.began) {\n                return;\n            }\n            this.began = false;\n            var item = e.item;\n            var id = item.getID();\n            var data = graph.findDataById(id);\n            // remove delegate\n            if (this.delegateRect) {\n                this.delegateRect.remove();\n                this.delegateRect = null;\n            }\n            if (!foundNode) {\n                graph.emit('afterdragbranch', {\n                    success: false,\n                    message: 'Failed. No node close to the dragged node.',\n                    branch: data,\n                });\n                return;\n            }\n            var foundNodeId = foundNode.getID();\n            var oriParentData;\n            Util.traverseTree(graph.get('data'), function (d) {\n                var _a, _b;\n                if (oriParentData)\n                    return false;\n                if ((_b = (_a = d.children) === null || _a === void 0 ? void 0 : _a.filter(function (child) { return child.id === id; })) === null || _b === void 0 ? void 0 : _b.length) {\n                    oriParentData = d;\n                }\n                return true;\n            });\n            // 未配置 shouldEnd，则默认为 true\n            if (this.shouldEnd && !this.shouldEnd(data, graph.findDataById(foundNodeId), oriParentData)) {\n                return;\n            }\n            // if the foundNode is a descent of the dragged node, return\n            var isDescent = false;\n            Util.traverseTree(data, function (d) {\n                if (d.id === foundNodeId)\n                    isDescent = true;\n            });\n            if (isDescent) {\n                var newParentData_1 = graph.findDataById(foundNodeId);\n                graph.emit('afterdragbranch', {\n                    success: false,\n                    message: 'Failed. The target node is a descendant of the dragged node.',\n                    newParentData: newParentData_1,\n                    branch: data,\n                });\n                return;\n            }\n            var newParentData = graph.findDataById(foundNodeId);\n            // 触发外部对数据的改变\n            graph.emit('afterdragbranch', { success: true, message: 'Success.', newParentData: newParentData, oriParentData: oriParentData, branch: data });\n            graph.removeChild(data.id);\n            setTimeout(function () {\n                var newChildren = newParentData.children;\n                if (newChildren)\n                    newChildren.push(data);\n                else\n                    newChildren = [data];\n                // 更新正在被操作的子树颜色\n                Util.traverseTree(data, function (d) {\n                    d.branchColor = newParentData.branchColor;\n                });\n                graph.updateChildren(newChildren, newParentData.id);\n            }, 600);\n        },\n        updateDelegate: function (e) {\n            var graph = this.graph;\n            if (!this.delegateRect) {\n                // 拖动多个\n                var parent_1 = graph.get('group');\n                var attrs = {\n                    fill: '#F3F9FF',\n                    fillOpacity: 0.5,\n                    stroke: '#1890FF',\n                    strokeOpacity: 0.9,\n                    lineDash: [5, 5],\n                };\n                var _a = this.calculationGroupPosition(e), cx = _a.x, cy = _a.y, width = _a.width, height = _a.height, minX = _a.minX, minY = _a.minY;\n                this.originPoint = { x: cx, y: cy, width: width, height: height, minX: minX, minY: minY };\n                // model上的x, y是相对于图形中心的，delegateShape是g实例，x,y是绝对坐标\n                this.delegateRect = parent_1.addShape('rect', {\n                    attrs: __assign({ width: width, height: height, x: cx, y: cy }, attrs),\n                    name: 'rect-delegate-shape',\n                });\n                this.delegateRect.set('capture', false);\n            }\n            else {\n                var clientX = e.x - this.origin.x + this.originPoint.minX;\n                var clientY = e.y - this.origin.y + this.originPoint.minY;\n                this.delegateRect.attr({\n                    x: clientX,\n                    y: clientY,\n                });\n            }\n        },\n        calculationGroupPosition: function (evt) {\n            var node = this.target;\n            if (!node) {\n                node = evt.item;\n            }\n            var bbox = node.getBBox();\n            var minX = bbox.minX, minY = bbox.minY, maxX = bbox.maxX, maxY = bbox.maxY;\n            return {\n                x: Math.floor(minX),\n                y: Math.floor(minY),\n                width: Math.ceil(maxX) - Math.floor(minX),\n                height: Math.ceil(maxY) - Math.floor(minY),\n                minX: minX,\n                minY: minY,\n            };\n        },\n    });\n    G6.registerBehavior('click-node', {\n        getEvents: function () {\n            return {\n                'node:click': 'onNodeClick',\n                'canvas:click': 'onCanvasClick',\n            };\n        },\n        onNodeClick: function (e) {\n            return __awaiter(this, void 0, void 0, function () {\n                var item, shapeName, model, graph, data, _a, id, value, _b, getChildren, fetchLoading, appendChildren;\n                var _c;\n                return __generator(this, function (_d) {\n                    switch (_d.label) {\n                        case 0:\n                            item = e.item;\n                            shapeName = e.target.get('name');\n                            model = item.getModel();\n                            graph = this.graph;\n                            if (!(shapeName === 'icon-add-child')) return [3 /*break*/, 3];\n                            data = graph.findDataById(item.getID());\n                            if (!data.children)\n                                data.children = [];\n                            this.graph.emit('add:children', e);\n                            _a = e.item.getModel(), id = _a.id, value = _a.value;\n                            _b = graph.get('extraPlugin'), getChildren = _b.getChildren, fetchLoading = _b.fetchLoading;\n                            if (!getChildren) return [3 /*break*/, 2];\n                            createFetchLoading(model, fetchLoading);\n                            return [4 /*yield*/, getChildren({\n                                    id: id,\n                                    value: value,\n                                })];\n                        case 1:\n                            appendChildren = _d.sent();\n                            (_c = data.children).push.apply(_c, appendChildren);\n                            // @ts-ignore\n                            graph.updateChildren(data.children, data.id);\n                            closeFetchLoading();\n                            _d.label = 2;\n                        case 2: return [2 /*return*/];\n                        case 3:\n                            // 选中节点\n                            graph.getNodes().forEach(function (node) {\n                                graph.setItemState(node, 'selected', false);\n                            });\n                            graph.setItemState(item, 'selected', true);\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        onCanvasClick: function (e) {\n            var _this = this;\n            this.graph.getNodes().forEach(function (node) {\n                _this.graph.setItemState(node, 'selected', false);\n            });\n        },\n    });\n    G6.registerBehavior('hover-node', {\n        getEvents: function () {\n            return {\n                'node:mouseover': 'onNodeMouseOver',\n                'node:mouseleave': 'onNodeMouseLeave',\n                'node:mouseenter': 'onNodeMouseEnter',\n            };\n        },\n        onNodeMouseEnter: function (e) {\n            var _a;\n            var item = e.item;\n            if (!item || item.get('destroyed'))\n                return;\n            item.toFront();\n            var model = item.getModel();\n            var collapsed = model.collapsed, depth = model.depth;\n            var rootNode = depth === 0 || model.isRoot;\n            var group = item.getContainer();\n            if (rootNode)\n                return;\n            // 控制子节点个数标记\n            if (!collapsed) {\n                (_a = group.find(function (e) { return e.get('name') === 'collapse-group'; })) === null || _a === void 0 ? void 0 : _a.show();\n            }\n            this.graph.setItemState(item, 'hover', true);\n        },\n        onNodeMouseOver: function (e) {\n            var _a, _b;\n            this.graph.emit('tooltip: show', e);\n            // expand 状态下，若 hover 到子节点个数标记，填充背景+显示收起 icon\n            var item = e.item;\n            var group = item.getContainer();\n            var model = item.getModel();\n            if (!model.collapsed) {\n                var childCountGroup = group.find(function (e) { return e.get('name') === 'collapse-group'; });\n                if (childCountGroup) {\n                    childCountGroup.show();\n                    (_a = childCountGroup.find(function (e) { return e.get('name') === 'collapse-icon-arrow'; })) === null || _a === void 0 ? void 0 : _a.show();\n                }\n            }\n            (_b = group.find(function (e) { return e.get('name') === 'icon-add-child'; })) === null || _b === void 0 ? void 0 : _b.show();\n        },\n        onNodeMouseLeave: function (e) {\n            var _a, _b;\n            var item = e.item;\n            var model = item.getModel();\n            var group = item.getContainer();\n            var collapsed = model.collapsed;\n            if (!collapsed) {\n                var childCountGroup = group.find(function (e) { return e.get('name') === 'collapse-group'; });\n                if (childCountGroup) {\n                    childCountGroup.hide();\n                    (_a = childCountGroup.find(function (e) { return e.get('name') === 'collapse-icon-arrow'; })) === null || _a === void 0 ? void 0 : _a.hide();\n                }\n            }\n            (_b = group.find(function (e) { return e.get('name') === 'icon-add-child'; })) === null || _b === void 0 ? void 0 : _b.hide();\n            this.graph.emit('tooltip: hide', e);\n        },\n    });\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}