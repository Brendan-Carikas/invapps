{"ast":null,"code":"// 交互\nexport var bindStateEvents = function (graph, cfg) {\n  var _a = cfg !== null && cfg !== void 0 ? cfg : {},\n    _b = _a.nodeCfg,\n    nodeCfg = _b === void 0 ? {} : _b,\n    _c = _a.edgeCfg,\n    edgeCfg = _c === void 0 ? {} : _c;\n  var nodeStateStyles = nodeCfg.nodeStateStyles;\n  var edgeStateStyles = edgeCfg.edgeStateStyles;\n  /**\n   * 存储交互状态\n   * id: [[endActive, endDefalut], [startActive, startDefalut]]\n   */\n  var statusCache = {};\n  var updateArrowFill = function (item, endArrowFill, stratArrowFill) {\n    graph.updateItem(item, {\n      style: {\n        endArrow: !!endArrowFill && {\n          fill: endArrowFill\n        },\n        startArrow: !!stratArrowFill && {\n          fill: stratArrowFill\n        }\n      }\n    });\n  };\n  var setState = function (item, name, status) {\n    var _a, _b, _c;\n    status ? item.toFront() : item.toBack();\n    var _d = (_a = item.getModel().style) !== null && _a !== void 0 ? _a : {},\n      endArrow = _d.endArrow,\n      startArrow = _d.startArrow;\n    if (endArrow || startArrow) {\n      if (!statusCache[item.getID()]) {\n        // @ts-ignore\n        var endArrowFill = (endArrow !== null && endArrow !== void 0 ? endArrow : {}).fill;\n        // @ts-ignore\n        var startArrowFill = (startArrow !== null && startArrow !== void 0 ? startArrow : {}).fill;\n        var hoverStatus = (_c = (_b = item.getModel().style) === null || _b === void 0 ? void 0 : _b[name]) === null || _c === void 0 ? void 0 : _c.stroke;\n        statusCache[item.getID()] = [[hoverStatus !== null && hoverStatus !== void 0 ? hoverStatus : endArrowFill, endArrowFill], [hoverStatus !== null && hoverStatus !== void 0 ? hoverStatus : startArrowFill, startArrowFill]];\n      }\n      var fill = statusCache[item.getID()];\n      updateArrowFill(item, endArrow && fill[0][status ? 0 : 1], startArrow && fill[1][status ? 0 : 1]);\n    }\n    graph.setItemState(item, name, status);\n  };\n  var getRelationItems = function (currentItem, name, status, type) {\n    var relationItems = type === 'node' ? graph.findAll('edge', function (edge) {\n      return edge.getSource() === currentItem || edge.getTarget() === currentItem;\n    }) : graph.findAll('node', function (node) {\n      return currentItem.getSource().get('id') === node.get('id') || currentItem.getTarget().get('id') === node.get('id');\n    });\n    var highlightItems = [currentItem].concat(relationItems);\n    highlightItems.forEach(function (item) {\n      setState(item, name, status);\n    });\n  };\n  if (nodeStateStyles) {\n    graph.on('node:mouseenter', function (evt) {\n      var item = evt.item;\n      getRelationItems(item, 'hover', true, 'node');\n    });\n    graph.on('node:mouseleave', function (evt) {\n      var item = evt.item;\n      getRelationItems(item, 'hover', false, 'node');\n    });\n  }\n  if (edgeStateStyles) {\n    graph.on('edge:mouseenter', function (evt) {\n      var item = evt.item;\n      getRelationItems(item, 'hover', true, 'edge');\n    });\n    graph.on('edge:mouseleave', function (evt) {\n      var item = evt.item;\n      getRelationItems(item, 'hover', false, 'edge');\n    });\n  }\n};","map":{"version":3,"names":["bindStateEvents","graph","cfg","_a","_b","nodeCfg","_c","edgeCfg","nodeStateStyles","edgeStateStyles","statusCache","updateArrowFill","item","endArrowFill","stratArrowFill","updateItem","style","endArrow","fill","startArrow","setState","name","status","toFront","toBack","_d","getModel","getID","startArrowFill","hoverStatus","stroke","setItemState","getRelationItems","currentItem","type","relationItems","findAll","edge","getSource","getTarget","node","get","highlightItems","concat","forEach","on","evt"],"sources":["/Users/invotradesign/CascadeProjects/site-users-app/node_modules/@ant-design/graphs/es/utils/state-events.js"],"sourcesContent":["// 交互\nexport var bindStateEvents = function (graph, cfg) {\n    var _a = cfg !== null && cfg !== void 0 ? cfg : {}, _b = _a.nodeCfg, nodeCfg = _b === void 0 ? {} : _b, _c = _a.edgeCfg, edgeCfg = _c === void 0 ? {} : _c;\n    var nodeStateStyles = nodeCfg.nodeStateStyles;\n    var edgeStateStyles = edgeCfg.edgeStateStyles;\n    /**\n     * 存储交互状态\n     * id: [[endActive, endDefalut], [startActive, startDefalut]]\n     */\n    var statusCache = {};\n    var updateArrowFill = function (item, endArrowFill, stratArrowFill) {\n        graph.updateItem(item, {\n            style: {\n                endArrow: !!endArrowFill && {\n                    fill: endArrowFill,\n                },\n                startArrow: !!stratArrowFill && {\n                    fill: stratArrowFill,\n                },\n            },\n        });\n    };\n    var setState = function (item, name, status) {\n        var _a, _b, _c;\n        status ? item.toFront() : item.toBack();\n        var _d = (_a = item.getModel().style) !== null && _a !== void 0 ? _a : {}, endArrow = _d.endArrow, startArrow = _d.startArrow;\n        if (endArrow || startArrow) {\n            if (!statusCache[item.getID()]) {\n                // @ts-ignore\n                var endArrowFill = (endArrow !== null && endArrow !== void 0 ? endArrow : {}).fill;\n                // @ts-ignore\n                var startArrowFill = (startArrow !== null && startArrow !== void 0 ? startArrow : {}).fill;\n                var hoverStatus = (_c = (_b = item.getModel().style) === null || _b === void 0 ? void 0 : _b[name]) === null || _c === void 0 ? void 0 : _c.stroke;\n                statusCache[item.getID()] = [\n                    [hoverStatus !== null && hoverStatus !== void 0 ? hoverStatus : endArrowFill, endArrowFill],\n                    [hoverStatus !== null && hoverStatus !== void 0 ? hoverStatus : startArrowFill, startArrowFill],\n                ];\n            }\n            var fill = statusCache[item.getID()];\n            updateArrowFill(item, endArrow && fill[0][status ? 0 : 1], startArrow && fill[1][status ? 0 : 1]);\n        }\n        graph.setItemState(item, name, status);\n    };\n    var getRelationItems = function (currentItem, name, status, type) {\n        var relationItems = type === 'node'\n            ? graph.findAll('edge', function (edge) { return edge.getSource() === currentItem || edge.getTarget() === currentItem; })\n            : graph.findAll('node', function (node) {\n                return currentItem.getSource().get('id') === node.get('id') ||\n                    currentItem.getTarget().get('id') === node.get('id');\n            });\n        var highlightItems = [currentItem].concat(relationItems);\n        highlightItems.forEach(function (item) {\n            setState(item, name, status);\n        });\n    };\n    if (nodeStateStyles) {\n        graph.on('node:mouseenter', function (evt) {\n            var item = evt.item;\n            getRelationItems(item, 'hover', true, 'node');\n        });\n        graph.on('node:mouseleave', function (evt) {\n            var item = evt.item;\n            getRelationItems(item, 'hover', false, 'node');\n        });\n    }\n    if (edgeStateStyles) {\n        graph.on('edge:mouseenter', function (evt) {\n            var item = evt.item;\n            getRelationItems(item, 'hover', true, 'edge');\n        });\n        graph.on('edge:mouseleave', function (evt) {\n            var item = evt.item;\n            getRelationItems(item, 'hover', false, 'edge');\n        });\n    }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}